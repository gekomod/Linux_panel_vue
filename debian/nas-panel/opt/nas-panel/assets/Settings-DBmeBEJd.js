import{_ as A,r as b,k as I,c as $,o as g,a as e,w as t,e as C,b as n,l as u,I as r,h,g as p,t as m,F as P,m as T,q as z,s as S,R}from"./index-DxMqavst.js";const W={class:"system-settings"},q={class:"card-header"},H={key:0,class:"loading-spinner"},Y={class:"action-buttons"},j={__name:"Settings",setup(G){const o=b({docker:{composeDir:"/opt/docker/compose",dataRoot:"/var/lib/docker",autoStart:!0},system:{hostname:"",timezone:"Europe/Warsaw",language:"pl",autoUpdates:!1},ui:{theme:"system",sidebarMode:"vertical"}}),_=b(!0),k=b(!1),E=b(["Europe/Warsaw","Europe/London","America/New_York","Asia/Tokyo"]),w=async()=>{try{_.value=!0;const l=await z.get("/system/settings");o.value=l.data}catch(l){S.error("Failed to load settings"),console.error(l)}finally{_.value=!1}},M=async()=>{try{k.value=!0,await z.post("/system/settings",o.value),S.success("Settings saved successfully"),R.global.locale.value!==o.value.system.language&&window.location.reload()}catch(l){throw S.error("Failed to save settings"),console.error(l),l}finally{k.value=!1}},B=()=>{w()},F=l=>{R.global.locale.value=l},U=l=>{console.log("Browsing directory for field:",l)};return I(()=>{w()}),(l,s)=>{const c=n("el-icon"),y=n("el-divider"),v=n("el-button"),V=n("el-input"),d=n("el-form-item"),D=n("el-switch"),i=n("el-option"),f=n("el-select"),L=n("el-form"),N=n("el-card");return g(),$("div",W,[e(N,{shadow:"hover",class:"settings-card"},{header:t(()=>[h("div",q,[e(c,{size:"24"},{default:t(()=>[e(u(r),{icon:"mdi:cog"})]),_:1}),h("span",null,m(l.$t("settings.systemSettings")),1)])]),default:t(()=>[_.value?(g(),$("div",H,[e(c,{size:32,class:"is-loading"},{default:t(()=>[e(u(r),{icon:"mdi:loading"})]),_:1})])):(g(),C(L,{key:1,ref:"settingsForm",model:o.value,"label-position":"top"},{default:t(()=>[e(y,{"content-position":"left"},{default:t(()=>[e(c,null,{default:t(()=>[e(u(r),{icon:"mdi:docker"})]),_:1}),p(" "+m(l.$t("settings.dockerSettings")),1)]),_:1}),e(d,{label:l.$t("settings.dockerComposeDir")},{default:t(()=>[e(V,{modelValue:o.value.docker.composeDir,"onUpdate:modelValue":s[1]||(s[1]=a=>o.value.docker.composeDir=a),placeholder:l.$t("settings.dockerComposeDirPlaceholder")},{append:t(()=>[e(v,{onClick:s[0]||(s[0]=a=>U("docker.composeDir"))},{default:t(()=>[e(u(r),{icon:"mdi:folder-search"})]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(d,{label:l.$t("settings.dockerDataRoot")},{default:t(()=>[e(V,{modelValue:o.value.docker.dataRoot,"onUpdate:modelValue":s[3]||(s[3]=a=>o.value.docker.dataRoot=a),placeholder:l.$t("settings.dockerDataRootPlaceholder")},{append:t(()=>[e(v,{onClick:s[2]||(s[2]=a=>U("docker.dataRoot"))},{default:t(()=>[e(u(r),{icon:"mdi:folder-search"})]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(d,{label:l.$t("settings.dockerAutoStart")},{default:t(()=>[e(D,{modelValue:o.value.docker.autoStart,"onUpdate:modelValue":s[4]||(s[4]=a=>o.value.docker.autoStart=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(y,{"content-position":"left"},{default:t(()=>[e(c,null,{default:t(()=>[e(u(r),{icon:"mdi:server"})]),_:1}),p(" "+m(l.$t("settings.generalSettings")),1)]),_:1}),e(d,{label:l.$t("settings.hostname")},{default:t(()=>[e(V,{modelValue:o.value.system.hostname,"onUpdate:modelValue":s[5]||(s[5]=a=>o.value.system.hostname=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l.$t("settings.timezone")},{default:t(()=>[e(f,{modelValue:o.value.system.timezone,"onUpdate:modelValue":s[6]||(s[6]=a=>o.value.system.timezone=a),filterable:""},{default:t(()=>[(g(!0),$(P,null,T(E.value,a=>(g(),C(i,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l.$t("settings.language")},{default:t(()=>[e(f,{modelValue:o.value.system.language,"onUpdate:modelValue":s[7]||(s[7]=a=>o.value.system.language=a),onChange:F},{default:t(()=>[e(i,{label:"Polski",value:"pl"}),e(i,{label:"English",value:"en"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l.$t("settings.autoUpdates")},{default:t(()=>[e(D,{modelValue:o.value.system.autoUpdates,"onUpdate:modelValue":s[8]||(s[8]=a=>o.value.system.autoUpdates=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(y,{"content-position":"left"},{default:t(()=>[e(c,null,{default:t(()=>[e(u(r),{icon:"mdi:monitor-dashboard"})]),_:1}),p(" "+m(l.$t("settings.uiSettings")),1)]),_:1}),e(d,{label:l.$t("settings.theme")},{default:t(()=>[e(f,{modelValue:o.value.ui.theme,"onUpdate:modelValue":s[9]||(s[9]=a=>o.value.ui.theme=a)},{default:t(()=>[e(i,{label:"Light",value:"light"}),e(i,{label:"Dark",value:"dark"}),e(i,{label:"System",value:"system"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l.$t("settings.sidebarMode")},{default:t(()=>[e(f,{modelValue:o.value.ui.sidebarMode,"onUpdate:modelValue":s[10]||(s[10]=a=>o.value.ui.sidebarMode=a)},{default:t(()=>[e(i,{label:l.$t("settings.sidebarVertical"),value:"vertical"},null,8,["label"]),e(i,{label:l.$t("settings.sidebarHorizontal"),value:"horizontal"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),h("div",Y,[e(v,{type:"primary",onClick:M,loading:k.value},{default:t(()=>[p(m(l.$t("settings.save")),1)]),_:1},8,["loading"]),e(v,{onClick:B},{default:t(()=>[p(m(l.$t("settings.reset")),1)]),_:1})])]),_:1},8,["model"]))]),_:1})])}}},K=A(j,[["__scopeId","data-v-cf9a3f4f"]]);export{K as default};
